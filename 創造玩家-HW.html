<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å‰µé€ ç©å®¶</title>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      background-color: #AFC2D5;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      font-size: 18px;
      width: 550px;
      height: 650px;
      background-color: #CCDDD3;
      border-radius: 10px;
      border: 1px solid black;
      display: flex;
      flex-direction: column;
      padding: 25px;
    }


    .options {
      display: flex;
      gap: 40px;
      margin: 40px 0;
    }

    #customize {
      font-size: 18px;
    }

    .role-btn {
      background-color: #FFF9A5;
      border: 1px solid black;
      font-size: 5rem;
      border-radius: 8px;
      cursor: pointer;
    }

    #change-role-btn {
      padding: 8px 16px;
      margin-bottom: 20px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
    }

    .active:hover {
      background-color: orange;
      color: white;
    }

    input[name="role"]:checked+label {
      background-color: orange;
    }
  </style>
</head>

<body>
  <form class="container">
    <div class="box-up">
      <label class="options">
        ç©å®¶åç¨±ï¼š
        <input type="text" id="name">
      </label>
    </div>


    <div class="options">
      <p>é¸æ“‡ç¨®æ—ï¼š</p>
      <label for="human">
        <input type="radio" id="human" name="race" value="1">
        äººé¡
      </label>
      <label for="orc">
        <input type="radio" id="orc" name="race" value="2">
        ç¸äºº
      </label>
      <label for="elf">
        <input type="radio" id="elf" name="race" value="3">
        ç²¾éˆ
      </label>
    </div>

    <hr>

    <div class="options">
      <p>é¸æ“‡è·æ¥­ï¼š</p>
      <input type="radio" name="role" id="role-1" class="role" value="æˆ°å£«" hidden>
      <label for="role-1" class="role-btn active" title="æˆ°å£«">âš”ï¸</label>

      <input type="radio" name="role" id="role-2" class="role" value="å¼“ç®­æ‰‹" hidden>
      <label for="role-2" class="role-btn active" title="å¼“ç®­æ‰‹">ğŸ¹</label>

      <input type="radio" name="role" id="role-3" class="role" value="é­”æ³•å¸«" hidden>
      <label for="role-3" class="role-btn active" title="é­”æ³•å¸«">ğŸ”®</label>
    </div>
    <button type="button" id="change-role-btn" class="active">ç¢ºå®šè½‰è·</button>

    <hr>
    <br>

    <p>
      å§“åï¼š
      <span id="name-output"></span>
    </p>
    <p>ç¨®æ—ï¼š
      <span id="race-output"></span>
    </p>
    <p>è·æ¥­ï¼š
      <span id="job-output">åˆå¿ƒè€…</span>
    </p>

    <p>
      <span id="answer">è½‰è·çµæœ</span>
    </p>
  </form>


  <script>
    // å‰µé€ ã„§å€‹ç©å®¶çš„ç‰©ä»¶(object)ï¼Œå±¬æ€§æœ‰åç¨±ã€ç¨®æ—ã€è·æ¥­
    // ç©å®¶çš„åˆå§‹è·æ¥­ç‚ºåˆå¿ƒè€…
    // ç©å®¶çš„è·æ¥­æœ‰æˆ°å£«ã€å¼“ç®­æ‰‹ã€é­”æ³•å¸«
    // åªè¦è¼¸å…¥åç¨±ã€é¸æ“‡ç¨®æ—ï¼Œå°±ç«‹é¦¬æ”¹è®Šç©å®¶çš„è³‡è¨Šä¸¦é¡¯ç¤ºåœ¨ç•«é¢ä¸Š
    // ç•¶ç©å®¶é¸æ“‡è·æ¥­å¾Œï¼ŒæŒ‰ä¸‹ç¢ºå®šè½‰è·æŒ‰éˆ•ï¼Œå°±æœƒæ”¹è®Šç©å®¶çš„è·æ¥­ä¸¦é¡¯ç¤ºåœ¨ç•«é¢ä¸Š

    const player = {
      name: '',
      race: '',
      job: 'åˆå¿ƒè€…',
    }

    // è¼¸å…¥å§“å
    const nameInput = document.querySelector('#name');
    //----------------------è¼¸å…¥äº‹ä»¶(è¼¸å…¥æ™‚åŒæ™‚æ”¹è®Š)---------------------
    nameInput.addEventListener('input', () => {
      player.name = nameInput.value;
      //å‘¼å«é¡¯ç¤ºçš„function
      render();
    });
    //--------------------------é¸æ“‡ç¨®æ—--------------------------------
    const raceInputAll = document.querySelectorAll('input[name="race"]');
    raceInputAll.forEach(raceInput => {
      raceInput.addEventListener('change', () => {
        // if (raceInput.value === '1') {
        //   player.race = "äººé¡"
        // } else if (raceInput.value === '2') {
        //   player.race = "ç¸äºº"
        // } else {
        //   player.race = "ç²¾éˆ"
        // }

        switch (raceInput.value) {
          case '1':
            player.race = 'äººé¡'
            break;
          case '2':
            player.race = 'ç¸äºº'
            break;
          case '3':
            player.race = 'ç²¾éˆ'
            break;
        };

        render();
      });
    });
    //---------------------------é¸æ“‡è·æ¥­-------------------------------
    let seletedJob = '';
    const roleBtnAll = document.querySelectorAll('input[name="role"]');
    roleBtnAll.forEach((btn) => {
      btn.addEventListener('change', () => {
        seletedJob = btn.value; // ç¢ºä¿æ¯æ¬¡é¸æ“‡è·æ¥­éƒ½æ›´æ–°å€¼
      });
    });
    document.querySelector("#change-role-btn").addEventListener("click", () => {
      if (seletedJob) {
        player.job = seletedJob;
        document.querySelector("#job-output").textContent = player.job; // é¡¯ç¤ºæ–°è·æ¥­
      } else {
        alert("è«‹å…ˆé¸æ“‡è·æ¥­ï¼");
      }
    });

    //----------------------------é¡¯ç¤ºå€--------------------------------
    const nameOutput = document.querySelector('#name-output');
    const raceOutput = document.querySelector('#race-output');
    const jobOutput = document.querySelector('#job-output');
    //åŸ·è¡Œé¡¯ç¤ºåœ¨ä¸‹æ–¹çš„åŠŸèƒ½
    function render() {
      nameOutput.textContent = player.name;
      raceOutput.textContent = player.race;
      jobOutput.textContent = player.job;
    };
    //----------------------------active--------------------------------
    const active = document.querySelector("#change-role-btn");

    active.addEventListener("click", () => {
      if (player.name === "") {
        alert("è«‹è¼¸å…¥å§“å");
      } else if (player.race === "") {
        alert("è«‹é¸æ“‡ç¨®æ—");
      } else if(player.job === "åˆå¿ƒè€…"){
        answer.textContent = `è½‰è·å¤±æ•—ï¼ä½ é‚„æ˜¯åˆå¿ƒè€…`
      }else {
        alert(`è½‰è·æˆåŠŸï¼ä½ çš„ç¨®æ—:${player.race}ï¼Œä½ çš„æ–°è·æ¥­:${player.job}`);
        answer.textContent = `è½‰è·æˆåŠŸï¼ä½ çš„ç¨®æ—:${player.race}ï¼Œä½ çš„æ–°è·æ¥­æ˜¯:${player.job}`
      }
    });

  </script>
</body>

</html>